<!DOCTYPE html>
<html>
    <head>
		<meta http-equiv="content-type" content="text/html;charset=utf-8">
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
		<meta http-equiv="Pragma" content="no-cache" />
		<meta http-equiv="Expires" content="0" />
		<meta content="always" name="referrer">
		<meta name="author" content="Poe Chiang">
		<meta name="generator" content="sublime text">
		<meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>项目测试|poejs</title>
		<link rel="stylesheet" type="text/css" href="../dist/poe.2.0.1.css">
		<style type="text/css">
			.ml-item{
				margin-top:.1rem;
			}
			.ml-item:first-child,.ml-title+.ml-item,.ml-head+.ml-item{
				margin-top: .01rem;
			}
		</style>
    </head>
	<body>
		<section class="pui-block">
			<header class="pui-block-title">jQuery & POE</header>
			<article>
				<button class="btn-block delay-class f-right">延迟三秒</button>
				<div class="box jq">this is a jquery box</div>
				<div class="box poe">this is a poe box</div>
			</article>
			<footer></footer>
		</section>


		<section class="pui-block">
			<header class="pui-block-title">POE.ui 模态对话框</header>
			<article>
				<button class="btn-block show-modal" >显示模态对话框</button>
			</article>
			<footer></footer>
		</section>

		<section class="pui-block">
			<header class="pui-block-title">POE.ui 通知栏</header>
			<article >
				<div class="flex-row flex-wrap">
					<button class="btn-block success show-success-notify m-5" >显示成功通知栏</button>
					<button class="btn-block error show-error-notify m-5" >显示错误通知栏</button>
					<button class="btn-block secondary show-info-notify m-5" >显示信息通知栏</button>
					<button class="btn-block warning show-warn-notify m-5" >显示警告通知栏</button>
				</div>
			</article>
			<footer></footer>
		</section>

		<section class="pui-block">
			<header class="pui-block-title">POE.ui Toast</header>
			<article >
				<div class="flex-row flex-wrap">
					<button class="btn-block secondary submit m-5" >提交</button>
					<button class="btn-block success submit-sucess m-5" >提交成功</button>
				</div>
			</article>
			<footer></footer>
		</section>

		<div id="poe-notify">
			<p>操作成功！</p>
		</div>
		<div class="poe-mask anim mask" >
			<div class="inner">
				<div class="box modal">
					<header class="title">标题</header>
					<article class="body">
						<p class="inner hor-center">测试测试测试测试</p>
					</article>
					<footer class="foot flex-row">
						<button class="dlg-btn abort flex-item">放弃</button>
						<button class="dlg-btn cancel flex-item">取消</button>
						<button class="dlg-btn confirm flex-item">确定</button>
					</footer>
				</div>
			</div>
		</div>


		<div class="poe-mask anim mask" >
			<div class="inner">
				<div class="box toast">
					<div class="inner">
						
					<article class="spinner">
						<span class="scale"></span>
						<span class="scale"></span>
						<span class="scale"></span>
						<span class="scale"></span>
						<span class="scale"></span>
						<span class="scale"></span>
						<span class="scale"></span>
						<span class="scale"></span>
						<span class="scale"></span>
						<span class="scale"></span>
						<span class="scale"></span>
						<span class="scale"></span>
					</article>
					<footer class="txt">正在加载…</footer>
					</div>
				</div>
			</div>
		</div>

		
		<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
		<script type="text/javascript" src="../dist/poe.2.0.1.js"></script>


		<script type="text/javascript">
			
			let $content = $('#page-content'),
				$$content = $$('#page-content'),
				$boxjq = $('.box.jq'),
				$$boxpoe = $$('.box.poe')


			$boxjq.css({color:'red'})
			$$boxpoe.css({color:'green'}).css('background-color','white')


			let $mask = $('.poe-mask'),
				$box = $mask.find('.box'),
				$$mask = $$('.poe-mask'),
				$$box = $$mask.find('.box')
			if ($mask.is('.movable')) {
				$mask.off('mousedown').on('mousedown',(e)=>{
					if ($(e.target).is('.title')) {
						console.log(e)
						$mask.data({org:{left:e.offsetX,top:e.offsetY}})
					}
				})
				$mask.off('mousemove').on('mousemove',(e)=>{
					let org = $mask.data().org
					org && $box.offset({left:e.clientX-org.left,top:e.clientY - org.top})
					
				})

				$mask.off('mouseup').on('mouseup',(e)=>{
					let data = $mask.data()
					delete data.org
					$mask.data(data)
				})

			}


			$box.on('click','.dlg-btn',(e)=>{
				
				$mask.removeClass('showing')
				setTimeout(()=>{
					$mask.removeClass('hiding')
				},400)

			})

			$('.show-modal').click(function (){
				$mask.addClass('showing')
				setTimeout(()=>{
					$mask.addClass('hiding')
				},400)
			})

			$('.show-success-notify').click(function (){
				$('#poe-notify').addClass('success showing')
				setTimeout(()=>{
					$('#poe-notify').addClass('hiding')
				},400)
				setTimeout(()=>{
					$('#poe-notify').removeClass('success showing')
				},3400)
				setTimeout(()=>{
					$('#poe-notify').removeClass('hiding')
				},3800)
			})
			$('.show-info-notify').click(function (){
				$('#poe-notify').addClass('info showing')
				setTimeout(()=>{
					$('#poe-notify').addClass('hiding')
				},400)
				setTimeout(()=>{
					$('#poe-notify').removeClass('info showing')
				},3400)
				setTimeout(()=>{
					$('#poe-notify').removeClass('hiding')
				},3800)
			})
			$('.show-error-notify').click(function (){
				$('#poe-notify').addClass('error showing')
				setTimeout(()=>{
					$('#poe-notify').addClass('hiding')
				},400)
				setTimeout(()=>{
					$('#poe-notify').removeClass('error showing')
				},3400)
				setTimeout(()=>{
					$('#poe-notify').removeClass('hiding')
				},3800)
			})
			$('.show-warn-notify').click(function (){
				$('#poe-notify').addClass('warn showing')
				setTimeout(()=>{
					$('#poe-notify').addClass('hiding')
				},400)
				setTimeout(()=>{
					$('#poe-notify').removeClass('warn showing')
				},3400)
				setTimeout(()=>{
					$('#poe-notify').removeClass('hiding')
				},3800)
			})

			$('.delay-class').click(()=>{
				var hasDelay = $$boxpoe.class('hor-center',3000).class(['^hor-center','hor-right'],4000).class('?poe')
				$$.con.debug(hasDelay)
			})



			console.log($content,$$content)
			console.log($mask,$$mask,$box,$$box)

		</script>
	</body>
</html>