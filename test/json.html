<!DOCTYPE html>
<html>
    <head>
		<meta http-equiv="content-type" content="text/html;charset=utf-8">
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
		<meta http-equiv="Pragma" content="no-cache" />
		<meta http-equiv="Expires" content="0" />
		<meta content="always" name="referrer">
		<meta name="author" content="Poe Chiang">
		<meta name="generator" content="sublime text">
		<meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>项目测试|poejs</title>
		<link rel="stylesheet" type="text/css" href="../dist/poe.2.0.1.css">
		<link rel="stylesheet" type="text/css" href="./css/main.css">
		<style type="text/css">
			.pui-block{
				font-size: .16rem;

			}
			label.data-label{
				min-width: 1rem;
			}
			input[type="text"]{
				line-height: .32rem;
				height: .34rem;

			}
		</style>
    </head>
	<body>
		<section class="block1 pui-block">
			<header class="pui-block-title">POE.json stringify</header>
			<article class="box pui-block-body">
				
				JSON对象：<br><br>
				<label class="data-label mr-10">name</label><input type="text" class="name" placeholder="js 库名称"><br><br>
				 <label class="data-label mr-10">ver</label><input type="text" class="version" placeholder="版本号">
				<p class="rlt"></p>
			</article>
			<footer class="pui-block-foot flex-row flex-main-end flex-wrap">
				<button class="btn-block stringify m-5 primary" >序列化</button>
				<button class="btn-block reset m-5" >恢复</button>
			</footer>
		</section>
		<section class="block2 pui-block">
			<header class="pui-block-title">POE.json parse</header>
			<article class="box pui-block-body">
				JSON数据：<br><br>
				<textarea type="text" class="json-str full-row rs-none ph-15 pv-5" placeholder="js 库名称" style="min-height: 1rem;"></textarea><br><br>
			</article>
			<footer class="pui-block-foot flex-row row flex-main-end flex-line-center flex-wrap">
				<p class="flex-item tip">按F12打开调试工具console标签查看结果。</p>
				<button class="btn-block parse m-5 primary" >反序列化</button>
				<button class="btn-block test m-5 secondary" >检测有效性</button>
				<button class="btn-block reset m-5" >恢复</button>
			</footer>
		</section>

		<script type="text/javascript" src="../dist/poe.2.0.1.js"></script>
		<script type="text/javascript">
			$$('.block1').on('click','.stringify,.reset',function(e){
				var $btn = $$(e.target),
					$name = $$('.block1 .name'),
					$ver = $$('.block1 .version'),
					$rlt = $$('.block1 .rlt'),
					json = {name:$name.val(),ver:$ver.val()}
					
				if ($btn.is('.stringify')) {
					$rlt.html($$.json(json))
				}
				else{
					$rlt.html('')
					$name.val('')
					$ver.val('')
				}
			})
			$$('.block2').on('click','.parse,.reset,.test',function(e){
				var $btn = $$(e.target),
					$ta = $$('.block2 .json-str')
					

				if ($btn.is('.parse')) {
					$$.con.info($$.json($ta.val()))
				} else  if ($btn.is('.test')) {
					var rlt = $$.json('?'+$ta.val())
					$$.ui.toast(rlt?'格式正确':'格式错误',{type:rlt?'success':'error'})
				}
				else{
					$ta.val('')
				}
			})
		</script>
	</body>
</html>